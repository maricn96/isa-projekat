{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Korisnik\\\\Desktop\\\\ISA_Project\\\\ISA-project\\\\isa-front\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Korisnik\\\\Desktop\\\\ISA_Project\\\\ISA-project\\\\isa-front\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Korisnik\\\\Desktop\\\\ISA_Project\\\\ISA-project\\\\isa-front\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Korisnik\\\\Desktop\\\\ISA_Project\\\\ISA-project\\\\isa-front\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Korisnik\\\\Desktop\\\\ISA_Project\\\\ISA-project\\\\isa-front\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Korisnik\\\\Desktop\\\\ISA_Project\\\\ISA-project\\\\isa-front\\\\src\\\\components\\\\dashboard\\\\reservation\\\\CarReservation.js\";\nimport React, { Component } from \"react\";\nimport StarRating from \"./StarRating\";\nimport CancelReservation from \"./CancelReservation\";\nimport DeleteFromShoppingCart from \"./DeleteFromShoppingCart\";\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { cancelCarReservation as _cancelCarReservation } from \"../../../store/actions/PurchasesActions\"; //Ovde imamo situaciju kada je objekat slozen iz vise objekata\n//pri prvom renderovanju ne ucitaju se svi objekti unutar njega\n//i ukoliko ostavimo samo izraz npr carReservation.service.name\n//pucace nam error cannot get name of undefined, jer service jos nije ucitan\n//zbog toga na svaki ispis je postavljen i uslov ukoliko je objekat jos undefined da se nista ne ispisuje\n//i tek kada dodje da mu dozvoli ispis\n\nvar CarReservation =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CarReservation, _Component);\n\n  function CarReservation() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CarReservation);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CarReservation)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      carRating: '',\n      rentACarRating: ''\n    };\n    return _this;\n  }\n\n  _createClass(CarReservation, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      if (this.props.carRatings && this.props.rentACarRatings && this.props.userId && this.props.carReservation) {\n        var carRating = this.props.carRatings.find(function (item) {\n          if (item.userId == _this2.props.userId && item.carId == _this2.props.carReservation.reservedCar.id) {\n            return true;\n          }\n        });\n        var rentServiceRating = this.props.rentACarRatings.find(function (item) {\n          if (item.userId == _this2.props.userId && item.rentACarId == _this2.props.carReservation.service.id) {\n            return true;\n          }\n        });\n        this.setState({\n          carRating: carRating,\n          rentACarRating: rentServiceRating\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(\"div\", {\n        className: \"card\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"card-title red-text lighten-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, \"Vozilo\")), React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col s4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, this.props.carReservation.service && React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, this.props.carReservation.service.name)), React.createElement(BrowserRouter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col s4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(Route, {\n        path: \"/userReservations\",\n        render: function render(props) {\n          return React.createElement(StarRating, {\n            date: _this3.props.carReservation ? _this3.props.carReservation.dateTo : undefined,\n            rating: _this3.state.rentACarRating,\n            rentService: _this3.props.carReservation ? _this3.props.carReservation.service : undefined,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 60\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }))), React.createElement(BrowserRouter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col s4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(Route, {\n        exact: true,\n        path: \"/korpa\",\n        render: function render(props) {\n          return React.createElement(DeleteFromShoppingCart, {\n            removeRentACarReservationFromShoppingCart: _this3.props.removeRentACarReservationFromShoppingCart,\n            userShoppingCart: _this3.props.userShoppingCart,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 66\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }), this.props.reservationId ? React.createElement(Route, {\n        exact: true,\n        path: \"/userReservations\",\n        render: function render(props) {\n          return React.createElement(CancelReservation, {\n            cancelCarReservation: _this3.props.cancelCarReservation,\n            reservationId: _this3.props.reservationId,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 68\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }) : '')))), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col s4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, this.props.carReservation.reservedCar && this.props.carReservation.reservedCar.carType && React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, this.props.carReservation.reservedCar.carType.brand, \" \", this.props.carReservation.reservedCar.carType.model, \" \", this.props.carReservation.reservedCar.carType.modelYear, \". \", this.props.carReservation.reservedCar.carType.carType, \" broj sedista: \", this.props.carReservation.reservedCar.carType.numberOfSeats, \" \")), React.createElement(BrowserRouter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col s4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(Route, {\n        path: \"/userReservations\",\n        render: function render(props) {\n          return React.createElement(StarRating, {\n            date: _this3.props.carReservation ? _this3.props.carReservation.dateTo : undefined,\n            rating: _this3.state.carRating,\n            reservedCar: _this3.props.carReservation ? _this3.props.carReservation.reservedCar : undefined,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 85\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"indigo-text left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, \"Datum od:\"), \" \", this.props.carReservation.dateFrom), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        className: \"indigo-text left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, \"Datum do:\"), \" \", this.props.carReservation.dateTo), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      })), React.createElement(\"p\", {\n        className: \"red-text lighten-3 left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, \" \", React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, \"Cena po danu: \", this.props.carReservation.reservedCar && this.props.carReservation.reservedCar.rentPrice, \" din\")))));\n    }\n  }]);\n\n  return CarReservation;\n}(Component);\n\n;\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    cancelCarReservation: function cancelCarReservation(id) {\n      return dispatch(_cancelCarReservation(id));\n    }\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(CarReservation);","map":{"version":3,"sources":["C:\\Users\\Korisnik\\Desktop\\ISA_Project\\ISA-project\\isa-front\\src\\components\\dashboard\\reservation\\CarReservation.js"],"names":["React","Component","StarRating","CancelReservation","DeleteFromShoppingCart","BrowserRouter","Switch","Route","connect","cancelCarReservation","CarReservation","state","carRating","rentACarRating","props","carRatings","rentACarRatings","userId","carReservation","find","item","carId","reservedCar","id","rentServiceRating","rentACarId","service","setState","name","dateTo","undefined","removeRentACarReservationFromShoppingCart","userShoppingCart","reservationId","carType","brand","model","modelYear","numberOfSeats","dateFrom","rentPrice","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\"\r\nimport StarRating from \"./StarRating\";\r\nimport CancelReservation from \"./CancelReservation\"\r\nimport DeleteFromShoppingCart from \"./DeleteFromShoppingCart\"\r\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\"\r\nimport { cancelCarReservation } from \"../../../store/actions/PurchasesActions\"\r\n\r\n//Ovde imamo situaciju kada je objekat slozen iz vise objekata\r\n//pri prvom renderovanju ne ucitaju se svi objekti unutar njega\r\n//i ukoliko ostavimo samo izraz npr carReservation.service.name\r\n//pucace nam error cannot get name of undefined, jer service jos nije ucitan\r\n//zbog toga na svaki ispis je postavljen i uslov ukoliko je objekat jos undefined da se nista ne ispisuje\r\n//i tek kada dodje da mu dozvoli ispis\r\n\r\nclass CarReservation extends Component {\r\n\r\n    state = {\r\n\r\n        carRating: '',\r\n        rentACarRating: ''\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        if (this.props.carRatings && this.props.rentACarRatings && this.props.userId && this.props.carReservation) {\r\n\r\n            const carRating = (this.props.carRatings.find(item => { if (item.userId == this.props.userId && item.carId == this.props.carReservation.reservedCar.id) { return true; } }));\r\n\r\n            const rentServiceRating = (this.props.rentACarRatings.find(item => { if (item.userId == this.props.userId && item.rentACarId == this.props.carReservation.service.id) { return true; } }));\r\n\r\n            this.setState({\r\n                carRating: carRating,\r\n                rentACarRating: rentServiceRating\r\n            })\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"card\">\r\n\r\n                <div className=\"card-content\">\r\n\r\n                    <span className=\"card-title red-text lighten-1\"><strong>Vozilo</strong></span>\r\n                    <div className=\"container\">\r\n                        <div className=\"row \">\r\n                            <div className=\"col s4\">\r\n                                {this.props.carReservation.service\r\n                                    && <p>{this.props.carReservation.service.name}</p>\r\n                                }\r\n\r\n                            </div>\r\n                            <BrowserRouter>\r\n                                <div className=\"col s4\">\r\n                                    <Route path=\"/userReservations\" render={(props) => <StarRating date={this.props.carReservation ? this.props.carReservation.dateTo : undefined} rating={this.state.rentACarRating} rentService={this.props.carReservation ? this.props.carReservation.service : undefined}></StarRating>}></Route>\r\n                                </div>\r\n                            </BrowserRouter>\r\n                            <BrowserRouter>\r\n                                <div className=\"col s4\">\r\n                                    <Switch>\r\n                                        <Route exact path=\"/korpa\" render={(props) => <DeleteFromShoppingCart removeRentACarReservationFromShoppingCart={this.props.removeRentACarReservationFromShoppingCart} userShoppingCart={this.props.userShoppingCart} />} ></Route>\r\n                                        {this.props.reservationId ?\r\n                                            <Route exact path=\"/userReservations\" render={(props) => <CancelReservation cancelCarReservation={this.props.cancelCarReservation} reservationId={this.props.reservationId}></CancelReservation>}></Route>\r\n                                            :\r\n                                            ''\r\n                                        }\r\n\r\n                                    </Switch>\r\n                                </div>\r\n                            </BrowserRouter>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"col s4\">\r\n                                {this.props.carReservation.reservedCar && this.props.carReservation.reservedCar.carType\r\n                                    && <p>{this.props.carReservation.reservedCar.carType.brand} {this.props.carReservation.reservedCar.carType.model} {this.props.carReservation.reservedCar.carType.modelYear}. {this.props.carReservation.reservedCar.carType.carType} broj sedista: {this.props.carReservation.reservedCar.carType.numberOfSeats} </p>\r\n                                }\r\n                            </div>\r\n                            <BrowserRouter>\r\n                                <div className=\"col s4\">\r\n                                    <Route path=\"/userReservations\" render={(props) => <StarRating date={this.props.carReservation ? this.props.carReservation.dateTo : undefined} rating={this.state.carRating} reservedCar={this.props.carReservation ? this.props.carReservation.reservedCar : undefined}></StarRating>}></Route>\r\n                                </div>\r\n                            </BrowserRouter>\r\n                        </div>\r\n                        <div>\r\n                            <p className=\"indigo-text left\"><strong>Datum od:</strong> {this.props.carReservation.dateFrom}</p>\r\n                            <br />\r\n                            <p className=\"indigo-text left\"><strong>Datum do:</strong> {this.props.carReservation.dateTo}</p>\r\n                            <br />\r\n                            <br />\r\n                        </div>\r\n                        <p className=\"red-text lighten-3 left\"> <strong>Cena po danu: {this.props.carReservation.reservedCar && this.props.carReservation.reservedCar.rentPrice} din</strong></p>\r\n                    </div>\r\n\r\n\r\n\r\n                </div>\r\n\r\n            </div>\r\n        );\r\n    }\r\n\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        cancelCarReservation: (id) => dispatch(cancelCarReservation(id)),\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default connect(null, mapDispatchToProps)(CarReservation);\r\n"]},"metadata":{},"sourceType":"module"}