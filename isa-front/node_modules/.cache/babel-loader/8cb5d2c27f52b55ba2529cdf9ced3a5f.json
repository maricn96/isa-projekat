{"ast":null,"code":"import axios from 'axios';\nexport var getAllBonusPointsDiscounts = function getAllBonusPointsDiscounts() {\n  return function (dispatch, getState) {\n    axios.get('http://localhost:8095/api/purchases/bonusPoitsDiscounts/all').then(function (res) {\n      console.log(res.data);\n      dispatch({\n        type: 'GET_ALL_BONUS_POINTS_DISCOUNTS',\n        bonusPointsDiscounts: res.data\n      });\n    });\n  };\n};\nexport var getUserShoppingCart = function getUserShoppingCart(id) {\n  return function (dispatch, getState) {\n    axios.get('http://localhost:8095/api/purchases/shoppingCart/user/' + id).then(function (res) {\n      //nakon sto smo dobili korpu, moramo da ucitamo i rezervacije koje ona ima..\n      console.log(res.data);\n      dispatch(getCarReservation(res.data.carReservationId));\n      dispatch({\n        type: 'GET_USER_SHOPPING_CART',\n        userShoppingCart: res.data\n      });\n    });\n  };\n};\nexport var getCarReservation = function getCarReservation(id) {\n  return function (dispatch, getState) {\n    axios.get('http://localhost:8090/api/rentacar/reservation/' + id).then(function (res) {\n      console.log(res.data);\n      dispatch({\n        type: 'GET_CAR_RESERVATION',\n        carReservation: res.data\n      });\n    });\n  };\n};\nexport var createUserShoppingCart = function createUserShoppingCart(userId) {\n  return function (dispatch, getState) {\n    axios.post('http://localhost:8095/api/purchases/shoppingCart/', {\n      id: -1,\n      bonusPoints: 0,\n      userId: userId,\n      carReservationId: null,\n      roomReservationId: null,\n      uslugaReservationId: null,\n      cenovnikReservationId: null,\n      price: 0\n    }).then(function (res) {\n      console.log(res.data);\n      dispatch({\n        type: 'CREATE_USER_SHOPPING_CART',\n        userShoppingCart: res.data\n      });\n    });\n  };\n};\nexport var addRentACarReservationToShoppingCart = function addRentACarReservationToShoppingCart(idKorpe, dateFrom, dateTo, car) {\n  return function (dispatch, getState) {\n    axios.put('http://localhost:8095/api/purchases/shoppingCart/addCarReservation/' + idKorpe, {\n      id: -1,\n      dateFrom: dateFrom,\n      dateTo: dateTo,\n      rating: 0,\n      carRating: 0,\n      reservedCar: {\n        id: car.id,\n        rentPrice: car.rentPrice,\n        carType: {\n          id: car.carType.id,\n          numberOfSeats: '',\n          modelYear: '',\n          model: '',\n          brand: '',\n          carType: ''\n        },\n        rentService: {\n          id: car.rentService.id,\n          name: '',\n          adress: '',\n          description: ''\n        },\n        branchOffice: {\n          id: car.branchOffice.id,\n          name: '',\n          adress: '',\n          city: '',\n          rentServiceDTO: {\n            id: car.rentService.id,\n            adress: '',\n            name: '',\n            description: ''\n          }\n        }\n      },\n      branchOfficeFrom: {\n        id: car.branchOffice.id,\n        name: '',\n        adress: '',\n        city: '',\n        rentServiceDTO: {\n          id: car.rentService.id,\n          adress: '',\n          name: '',\n          description: ''\n        }\n      },\n      branchOfficeTo: {\n        id: car.branchOffice.id,\n        name: '',\n        adress: '',\n        city: '',\n        rentServiceDTO: {\n          id: car.rentService.id,\n          adress: '',\n          name: '',\n          description: ''\n        }\n      },\n      service: {\n        id: car.rentService.id,\n        adress: '',\n        name: '',\n        description: ''\n      }\n    }).then(function (res) {\n      console.log(res.data);\n      dispatch({\n        type: 'ADD_CAR_RESERVATION_TO_SHOPPING_CART',\n        userShoppingCart: res.data\n      });\n    });\n  };\n};\nexport var removeRentACarReservationFromShoppingCart = function removeRentACarReservationFromShoppingCart(idKorpe) {\n  return function (dispatch, getState) {\n    axios.delete('http://localhost:8095/api/purchases/shoppingCart/deleteCarReservation/' + idKorpe).then(function (res) {\n      console.log(res.data);\n      dispatch({\n        type: 'REMOVE_CAR_RESERVATION_FROM_SHOPPING_CART',\n        userShoppingCart: res.data\n      });\n    });\n  };\n};\nexport var makeReservation = function makeReservation(id) {\n  return function (dispatch, getState) {\n    axios.post('http://localhost:8095/api/purchases/shoppingCart/' + id).then(function (res) {\n      console.log(res.data);\n      dispatch({\n        type: 'MAKE_RESERVATION',\n        finalReservation: res.data\n      });\n    });\n  };\n};\nexport var getAllUserReservations = function getAllUserReservations(id) {\n  return function (dispatch, getState) {\n    axios.get('http://localhost:8095/api/purchases/reservation/allByUser/' + id).then(function (res) {\n      console.log(res.data);\n      res.data.map(function (reservation) {\n        return dispatch(addRentCarReservationToCollection(reservation.carReservationId));\n      });\n      dispatch({\n        type: 'GET_USER_RESERVATIONS',\n        userReservations: res.data\n      });\n    });\n  };\n};\nexport var addRentCarReservationToCollection = function addRentCarReservationToCollection(id) {\n  return function (dispatch, getState) {\n    axios.get('http://localhost:8090/api/rentacar/reservation/' + id).then(function (res) {\n      console.log(res.data);\n      dispatch({\n        type: 'GET_USER_RENT_A_CAR_RESERVATIONS',\n        rentCarReservations: res.data\n      });\n    });\n  };\n};\nexport var createBonusPointsDiscount = function createBonusPointsDiscount(bonusPointsDiscount) {\n  return function (dispatch, getState) {\n    axios.post('http://localhost:8095/api/purchases/bonusPoitsDiscounts/', {\n      id: bonusPointsDiscount.id,\n      points: bonusPointsDiscount.points,\n      discount: bonusPointsDiscount.discount\n    }).then(function (res) {\n      console.log(res);\n      dispatch({\n        type: 'CREATE_BONUS_POINTS_DISCOUNT',\n        bonusPointsDiscount: res.data\n      });\n    });\n  };\n};\nexport var editBonusPointsDiscount = function editBonusPointsDiscount(id, bonusPointsDiscount) {\n  return function (dispatch, getState) {\n    axios.put('http://localhost:8095/api/purchases/bonusPoitsDiscounts/' + id, {\n      id: bonusPointsDiscount.id,\n      points: bonusPointsDiscount.points,\n      discount: bonusPointsDiscount.discount\n    }).then(function (res) {\n      console.log(res);\n      dispatch({\n        type: 'UPDATE_BONUS_POINTS_DISCOUNT',\n        editedDiscount: res.data\n      });\n    });\n  };\n};\nexport var deleteBonusPointsDiscount = function deleteBonusPointsDiscount(id) {\n  return function (dispatch, getState) {\n    axios.delete('http://localhost:8095/api/purchases/bonusPoitsDiscounts/' + id).then(function (res) {\n      console.log(res);\n      dispatch({\n        type: 'DELETE_BONUS_POINTS_DISCOUNT',\n        deletedDiscount: res.data\n      });\n    });\n  };\n};\nexport var rateRentACarService = function rateRentACarService(date, userId, idService, rating) {\n  return function (dispatch, getState) {\n    axios.post('http://localhost:8095/api/purchases/rentACarRating/' + date, {\n      id: -1,\n      userId: userId,\n      rentACarId: idService,\n      rating: rating\n    }).then(function (res) {\n      console.log(res);\n      dispatch({\n        type: 'RATE_RENT_A_CAR',\n        rating: res.data\n      });\n    });\n  };\n};\nexport var rateCar = function rateCar(date, userId, idCar, rating) {\n  return function (dispatch, getState) {\n    axios.post('http://localhost:8095/api/purchases/carRating/' + date, {\n      id: -1,\n      userId: userId,\n      carId: idCar,\n      rating: rating\n    }).then(function (res) {\n      console.log(res);\n      dispatch({\n        type: 'RATE_CAR',\n        rating: res.data\n      });\n    });\n  };\n};\nexport var getAllRentACarRatings = function getAllRentACarRatings(userId) {\n  return function (dispatch, getState) {\n    axios.get('http://localhost:8095/api/purchases/rentACarRating/all').then(function (res) {\n      var userRatings = res.data.filter(function (item) {\n        return item.userId == userId;\n      });\n      dispatch({\n        type: 'GET_ALL_RENT_A_CAR_RATINGS',\n        userRatings: userRatings\n      });\n    });\n  };\n};\nexport var getAllCarRatings = function getAllCarRatings(userId) {\n  return function (dispatch, getState) {\n    axios.get('http://localhost:8095/api/purchases/carRating/all').then(function (res) {\n      console.log(res);\n      var userCarRatings = res.data.filter(function (item) {\n        return item.userId == userId;\n      });\n      dispatch({\n        type: 'GET_ALL_CAR_RATINGS',\n        userRatings: userCarRatings\n      });\n    });\n  };\n};","map":{"version":3,"sources":["C:\\Users\\Admin\\Desktop\\ISA_PROJEKAT\\ISA-project\\isa-front\\src\\store\\actions\\PurchasesActions.js"],"names":["axios","getAllBonusPointsDiscounts","dispatch","getState","get","then","res","console","log","data","type","bonusPointsDiscounts","getUserShoppingCart","id","getCarReservation","carReservationId","userShoppingCart","carReservation","createUserShoppingCart","userId","post","bonusPoints","roomReservationId","uslugaReservationId","cenovnikReservationId","price","addRentACarReservationToShoppingCart","idKorpe","dateFrom","dateTo","car","put","rating","carRating","reservedCar","rentPrice","carType","numberOfSeats","modelYear","model","brand","rentService","name","adress","description","branchOffice","city","rentServiceDTO","branchOfficeFrom","branchOfficeTo","service","removeRentACarReservationFromShoppingCart","delete","makeReservation","finalReservation","getAllUserReservations","map","reservation","addRentCarReservationToCollection","userReservations","rentCarReservations","createBonusPointsDiscount","bonusPointsDiscount","points","discount","editBonusPointsDiscount","editedDiscount","deleteBonusPointsDiscount","deletedDiscount","rateRentACarService","date","idService","rentACarId","rateCar","idCar","carId","getAllRentACarRatings","userRatings","filter","item","getAllCarRatings","userCarRatings"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,IAAMC,0BAA0B,GAAG,SAA7BA,0BAA6B,GAAM;AAE5C,SAAO,UAACC,QAAD,EAAWC,QAAX,EAAwB;AAC3BH,IAAAA,KAAK,CAACI,GAAN,CAAU,6DAAV,EACKC,IADL,CACU,UAAAC,GAAG,EAAI;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACAP,MAAAA,QAAQ,CAAC;AAAEQ,QAAAA,IAAI,EAAE,gCAAR;AAA0CC,QAAAA,oBAAoB,EAAEL,GAAG,CAACG;AAApE,OAAD,CAAR;AACH,KAJL;AAKH,GAND;AAQH,CAVM;AAYP,OAAO,IAAMG,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACC,EAAD,EAAQ;AAEvC,SAAO,UAACX,QAAD,EAAWC,QAAX,EAAwB;AAC3BH,IAAAA,KAAK,CAACI,GAAN,CAAU,2DAA2DS,EAArE,EACKR,IADL,CACU,UAAAC,GAAG,EAAI;AACT;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACAP,MAAAA,QAAQ,CAACY,iBAAiB,CAACR,GAAG,CAACG,IAAJ,CAASM,gBAAV,CAAlB,CAAR;AACAb,MAAAA,QAAQ,CAAC;AAAEQ,QAAAA,IAAI,EAAE,wBAAR;AAAkCM,QAAAA,gBAAgB,EAAEV,GAAG,CAACG;AAAxD,OAAD,CAAR;AACH,KANL;AAOH,GARD;AAUH,CAZM;AAcP,OAAO,IAAMK,iBAAiB,GAAG,SAApBA,iBAAoB,CAACD,EAAD,EAAQ;AAErC,SAAO,UAACX,QAAD,EAAWC,QAAX,EAAwB;AAE3BH,IAAAA,KAAK,CAACI,GAAN,CAAU,oDAAoDS,EAA9D,EACKR,IADL,CACU,UAAAC,GAAG,EAAI;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACAP,MAAAA,QAAQ,CAAC;AAAEQ,QAAAA,IAAI,EAAE,qBAAR;AAA+BO,QAAAA,cAAc,EAAEX,GAAG,CAACG;AAAnD,OAAD,CAAR;AACH,KAJL;AAKH,GAPD;AASH,CAXM;AAaP,OAAO,IAAMS,sBAAsB,GAAG,SAAzBA,sBAAyB,CAACC,MAAD,EAAY;AAE9C,SAAO,UAACjB,QAAD,EAAWC,QAAX,EAAwB;AAC3BH,IAAAA,KAAK,CAACoB,IAAN,CAAW,mDAAX,EAAgE;AAAEP,MAAAA,EAAE,EAAE,CAAC,CAAP;AAAUQ,MAAAA,WAAW,EAAE,CAAvB;AAA0BF,MAAAA,MAAM,EAAEA,MAAlC;AAA0CJ,MAAAA,gBAAgB,EAAE,IAA5D;AAAkEO,MAAAA,iBAAiB,EAAE,IAArF;AAA2FC,MAAAA,mBAAmB,EAAE,IAAhH;AAAsHC,MAAAA,qBAAqB,EAAE,IAA7I;AAAmJC,MAAAA,KAAK,EAAE;AAA1J,KAAhE,EACKpB,IADL,CACU,UAAAC,GAAG,EAAI;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACAP,MAAAA,QAAQ,CAAC;AAAEQ,QAAAA,IAAI,EAAE,2BAAR;AAAqCM,QAAAA,gBAAgB,EAAEV,GAAG,CAACG;AAA3D,OAAD,CAAR;AACH,KAJL;AAKH,GAND;AAQH,CAVM;AAYP,OAAO,IAAMiB,oCAAoC,GAAG,SAAvCA,oCAAuC,CAACC,OAAD,EAAUC,QAAV,EAAoBC,MAApB,EAA4BC,GAA5B,EAAoC;AAEpF,SAAO,UAAC5B,QAAD,EAAWC,QAAX,EAAwB;AAC3BH,IAAAA,KAAK,CAAC+B,GAAN,CAAU,wEAAwEJ,OAAlF,EAA2F;AAAEd,MAAAA,EAAE,EAAE,CAAC,CAAP;AAAUe,MAAAA,QAAQ,EAAEA,QAApB;AAA8BC,MAAAA,MAAM,EAAEA,MAAtC;AAA8CG,MAAAA,MAAM,EAAE,CAAtD;AAAyDC,MAAAA,SAAS,EAAE,CAApE;AAAuEC,MAAAA,WAAW,EAAE;AAAErB,QAAAA,EAAE,EAAEiB,GAAG,CAACjB,EAAV;AAAcsB,QAAAA,SAAS,EAAEL,GAAG,CAACK,SAA7B;AAAwCC,QAAAA,OAAO,EAAE;AAAEvB,UAAAA,EAAE,EAAEiB,GAAG,CAACM,OAAJ,CAAYvB,EAAlB;AAAsBwB,UAAAA,aAAa,EAAE,EAArC;AAAyCC,UAAAA,SAAS,EAAE,EAApD;AAAwDC,UAAAA,KAAK,EAAE,EAA/D;AAAmEC,UAAAA,KAAK,EAAE,EAA1E;AAA8EJ,UAAAA,OAAO,EAAE;AAAvF,SAAjD;AAA8IK,QAAAA,WAAW,EAAE;AAAE5B,UAAAA,EAAE,EAAEiB,GAAG,CAACW,WAAJ,CAAgB5B,EAAtB;AAA0B6B,UAAAA,IAAI,EAAE,EAAhC;AAAoCC,UAAAA,MAAM,EAAE,EAA5C;AAAgDC,UAAAA,WAAW,EAAE;AAA7D,SAA3J;AAA8NC,QAAAA,YAAY,EAAE;AAAEhC,UAAAA,EAAE,EAAEiB,GAAG,CAACe,YAAJ,CAAiBhC,EAAvB;AAA2B6B,UAAAA,IAAI,EAAE,EAAjC;AAAqCC,UAAAA,MAAM,EAAE,EAA7C;AAAiDG,UAAAA,IAAI,EAAE,EAAvD;AAA2DC,UAAAA,cAAc,EAAE;AAAElC,YAAAA,EAAE,EAAEiB,GAAG,CAACW,WAAJ,CAAgB5B,EAAtB;AAA0B8B,YAAAA,MAAM,EAAE,EAAlC;AAAsCD,YAAAA,IAAI,EAAE,EAA5C;AAAgDE,YAAAA,WAAW,EAAE;AAA7D;AAA3E;AAA5O,OAApF;AAAkdI,MAAAA,gBAAgB,EAAE;AAAEnC,QAAAA,EAAE,EAAEiB,GAAG,CAACe,YAAJ,CAAiBhC,EAAvB;AAA2B6B,QAAAA,IAAI,EAAE,EAAjC;AAAqCC,QAAAA,MAAM,EAAE,EAA7C;AAAiDG,QAAAA,IAAI,EAAE,EAAvD;AAA2DC,QAAAA,cAAc,EAAE;AAAElC,UAAAA,EAAE,EAAEiB,GAAG,CAACW,WAAJ,CAAgB5B,EAAtB;AAA0B8B,UAAAA,MAAM,EAAE,EAAlC;AAAsCD,UAAAA,IAAI,EAAE,EAA5C;AAAgDE,UAAAA,WAAW,EAAE;AAA7D;AAA3E,OAApe;AAAonBK,MAAAA,cAAc,EAAE;AAAEpC,QAAAA,EAAE,EAAEiB,GAAG,CAACe,YAAJ,CAAiBhC,EAAvB;AAA2B6B,QAAAA,IAAI,EAAE,EAAjC;AAAqCC,QAAAA,MAAM,EAAE,EAA7C;AAAiDG,QAAAA,IAAI,EAAE,EAAvD;AAA2DC,QAAAA,cAAc,EAAE;AAAElC,UAAAA,EAAE,EAAEiB,GAAG,CAACW,WAAJ,CAAgB5B,EAAtB;AAA0B8B,UAAAA,MAAM,EAAE,EAAlC;AAAsCD,UAAAA,IAAI,EAAE,EAA5C;AAAgDE,UAAAA,WAAW,EAAE;AAA7D;AAA3E,OAApoB;AAAoxBM,MAAAA,OAAO,EAAE;AAAErC,QAAAA,EAAE,EAAEiB,GAAG,CAACW,WAAJ,CAAgB5B,EAAtB;AAA0B8B,QAAAA,MAAM,EAAE,EAAlC;AAAsCD,QAAAA,IAAI,EAAE,EAA5C;AAAgDE,QAAAA,WAAW,EAAE;AAA7D;AAA7xB,KAA3F,EACKvC,IADL,CACU,UAAAC,GAAG,EAAI;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACAP,MAAAA,QAAQ,CAAC;AAAEQ,QAAAA,IAAI,EAAE,sCAAR;AAAgDM,QAAAA,gBAAgB,EAAEV,GAAG,CAACG;AAAtE,OAAD,CAAR;AACH,KAJL;AAKH,GAND;AAOH,CATM;AAWP,OAAO,IAAM0C,yCAAyC,GAAG,SAA5CA,yCAA4C,CAACxB,OAAD,EAAa;AAElE,SAAO,UAACzB,QAAD,EAAWC,QAAX,EAAwB;AAC3BH,IAAAA,KAAK,CAACoD,MAAN,CAAa,2EAA2EzB,OAAxF,EACKtB,IADL,CACU,UAAAC,GAAG,EAAI;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACAP,MAAAA,QAAQ,CAAC;AAAEQ,QAAAA,IAAI,EAAE,2CAAR;AAAqDM,QAAAA,gBAAgB,EAAEV,GAAG,CAACG;AAA3E,OAAD,CAAR;AACH,KAJL;AAMH,GAPD;AASH,CAXM;AAeP,OAAO,IAAM4C,eAAe,GAAG,SAAlBA,eAAkB,CAACxC,EAAD,EAAQ;AAEnC,SAAO,UAACX,QAAD,EAAWC,QAAX,EAAwB;AAC3BH,IAAAA,KAAK,CAACoB,IAAN,CAAW,sDAAsDP,EAAjE,EACKR,IADL,CACU,UAAAC,GAAG,EAAI;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACAP,MAAAA,QAAQ,CAAC;AAAEQ,QAAAA,IAAI,EAAE,kBAAR;AAA4B4C,QAAAA,gBAAgB,EAAEhD,GAAG,CAACG;AAAlD,OAAD,CAAR;AACH,KAJL;AAMH,GAPD;AASH,CAXM;AAaP,OAAO,IAAM8C,sBAAsB,GAAG,SAAzBA,sBAAyB,CAAC1C,EAAD,EAAQ;AAE1C,SAAO,UAACX,QAAD,EAAWC,QAAX,EAAwB;AAC3BH,IAAAA,KAAK,CAACI,GAAN,CAAU,+DAA+DS,EAAzE,EACKR,IADL,CACU,UAAAC,GAAG,EAAI;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACAH,MAAAA,GAAG,CAACG,IAAJ,CAAS+C,GAAT,CAAa,UAAAC,WAAW,EAAI;AACxB,eAAQvD,QAAQ,CAACwD,iCAAiC,CAACD,WAAW,CAAC1C,gBAAb,CAAlC,CAAhB;AACH,OAFD;AAIAb,MAAAA,QAAQ,CAAC;AAAEQ,QAAAA,IAAI,EAAE,uBAAR;AAAiCiD,QAAAA,gBAAgB,EAAErD,GAAG,CAACG;AAAvD,OAAD,CAAR;AACH,KARL;AAUH,GAXD;AAaH,CAfM;AAiBP,OAAO,IAAMiD,iCAAiC,GAAG,SAApCA,iCAAoC,CAAC7C,EAAD,EAAQ;AAErD,SAAO,UAACX,QAAD,EAAWC,QAAX,EAAwB;AAC3BH,IAAAA,KAAK,CAACI,GAAN,CAAU,oDAAoDS,EAA9D,EACKR,IADL,CACU,UAAAC,GAAG,EAAI;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACAP,MAAAA,QAAQ,CAAC;AAAEQ,QAAAA,IAAI,EAAE,kCAAR;AAA4CkD,QAAAA,mBAAmB,EAAEtD,GAAG,CAACG;AAArE,OAAD,CAAR;AACH,KAJL;AAKH,GAND;AAQH,CAVM;AAaP,OAAO,IAAMoD,yBAAyB,GAAG,SAA5BA,yBAA4B,CAACC,mBAAD,EAAyB;AAE9D,SAAO,UAAC5D,QAAD,EAAWC,QAAX,EAAwB;AAE3BH,IAAAA,KAAK,CAACoB,IAAN,CAAW,0DAAX,EAAuE;AAAEP,MAAAA,EAAE,EAAEiD,mBAAmB,CAACjD,EAA1B;AAA8BkD,MAAAA,MAAM,EAAED,mBAAmB,CAACC,MAA1D;AAAkEC,MAAAA,QAAQ,EAAEF,mBAAmB,CAACE;AAAhG,KAAvE,EACK3D,IADL,CACU,UAAAC,GAAG,EAAI;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAJ,MAAAA,QAAQ,CAAC;AAAEQ,QAAAA,IAAI,EAAE,8BAAR;AAAwCoD,QAAAA,mBAAmB,EAAExD,GAAG,CAACG;AAAjE,OAAD,CAAR;AACH,KAJL;AAKH,GAPD;AAQH,CAVM;AAaP,OAAO,IAAMwD,uBAAuB,GAAG,SAA1BA,uBAA0B,CAACpD,EAAD,EAAKiD,mBAAL,EAA6B;AAEhE,SAAO,UAAC5D,QAAD,EAAWC,QAAX,EAAwB;AAE3BH,IAAAA,KAAK,CAAC+B,GAAN,CAAU,6DAA6DlB,EAAvE,EAA2E;AAAEA,MAAAA,EAAE,EAAEiD,mBAAmB,CAACjD,EAA1B;AAA8BkD,MAAAA,MAAM,EAAED,mBAAmB,CAACC,MAA1D;AAAkEC,MAAAA,QAAQ,EAAEF,mBAAmB,CAACE;AAAhG,KAA3E,EACK3D,IADL,CACU,UAAAC,GAAG,EAAI;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAJ,MAAAA,QAAQ,CAAC;AAAEQ,QAAAA,IAAI,EAAE,8BAAR;AAAwCwD,QAAAA,cAAc,EAAE5D,GAAG,CAACG;AAA5D,OAAD,CAAR;AACH,KAJL;AAKH,GAPD;AAQH,CAVM;AAaP,OAAO,IAAM0D,yBAAyB,GAAG,SAA5BA,yBAA4B,CAACtD,EAAD,EAAQ;AAE7C,SAAO,UAACX,QAAD,EAAWC,QAAX,EAAwB;AAE3BH,IAAAA,KAAK,CAACoD,MAAN,CAAa,6DAA6DvC,EAA1E,EACKR,IADL,CACU,UAAAC,GAAG,EAAI;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAJ,MAAAA,QAAQ,CAAC;AAAEQ,QAAAA,IAAI,EAAE,8BAAR;AAAwC0D,QAAAA,eAAe,EAAE9D,GAAG,CAACG;AAA7D,OAAD,CAAR;AACH,KAJL;AAMH,GARD;AASH,CAXM;AAcP,OAAO,IAAM4D,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACC,IAAD,EAAOnD,MAAP,EAAeoD,SAAf,EAA0BvC,MAA1B,EAAqC;AAEpE,SAAO,UAAC9B,QAAD,EAAWC,QAAX,EAAwB;AAE3BH,IAAAA,KAAK,CAACoB,IAAN,CAAW,wDAAwDkD,IAAnE,EAAyE;AAAEzD,MAAAA,EAAE,EAAE,CAAC,CAAP;AAAUM,MAAAA,MAAM,EAAEA,MAAlB;AAA0BqD,MAAAA,UAAU,EAAED,SAAtC;AAAiDvC,MAAAA,MAAM,EAAEA;AAAzD,KAAzE,EACK3B,IADL,CACU,UAAAC,GAAG,EAAI;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAJ,MAAAA,QAAQ,CAAC;AAAEQ,QAAAA,IAAI,EAAE,iBAAR;AAA2BsB,QAAAA,MAAM,EAAE1B,GAAG,CAACG;AAAvC,OAAD,CAAR;AACH,KAJL;AAKH,GAPD;AAQH,CAVM;AAaP,OAAO,IAAMgE,OAAO,GAAG,SAAVA,OAAU,CAACH,IAAD,EAAOnD,MAAP,EAAeuD,KAAf,EAAsB1C,MAAtB,EAAiC;AAEpD,SAAO,UAAC9B,QAAD,EAAWC,QAAX,EAAwB;AAE3BH,IAAAA,KAAK,CAACoB,IAAN,CAAW,mDAAmDkD,IAA9D,EAAoE;AAAEzD,MAAAA,EAAE,EAAE,CAAC,CAAP;AAAUM,MAAAA,MAAM,EAAEA,MAAlB;AAA0BwD,MAAAA,KAAK,EAAED,KAAjC;AAAwC1C,MAAAA,MAAM,EAAEA;AAAhD,KAApE,EACK3B,IADL,CACU,UAAAC,GAAG,EAAI;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAJ,MAAAA,QAAQ,CAAC;AAAEQ,QAAAA,IAAI,EAAE,UAAR;AAAoBsB,QAAAA,MAAM,EAAE1B,GAAG,CAACG;AAAhC,OAAD,CAAR;AACH,KAJL;AAKH,GAPD;AAQH,CAVM;AAcP,OAAO,IAAMmE,qBAAqB,GAAG,SAAxBA,qBAAwB,CAACzD,MAAD,EAAY;AAE7C,SAAO,UAACjB,QAAD,EAAWC,QAAX,EAAwB;AAE3BH,IAAAA,KAAK,CAACI,GAAN,CAAU,wDAAV,EACKC,IADL,CACU,UAAAC,GAAG,EAAI;AACT,UAAMuE,WAAW,GAAGvE,GAAG,CAACG,IAAJ,CAASqE,MAAT,CAAgB,UAAAC,IAAI;AAAA,eAAIA,IAAI,CAAC5D,MAAL,IAAeA,MAAnB;AAAA,OAApB,CAApB;AACAjB,MAAAA,QAAQ,CAAC;AAAEQ,QAAAA,IAAI,EAAE,4BAAR;AAAsCmE,QAAAA,WAAW,EAAEA;AAAnD,OAAD,CAAR;AACH,KAJL;AAKH,GAPD;AAQH,CAVM;AAaP,OAAO,IAAMG,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAC7D,MAAD,EAAY;AAExC,SAAO,UAACjB,QAAD,EAAWC,QAAX,EAAwB;AAE3BH,IAAAA,KAAK,CAACI,GAAN,CAAU,mDAAV,EACKC,IADL,CACU,UAAAC,GAAG,EAAI;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACA,UAAM2E,cAAc,GAAG3E,GAAG,CAACG,IAAJ,CAASqE,MAAT,CAAgB,UAAAC,IAAI;AAAA,eAAIA,IAAI,CAAC5D,MAAL,IAAeA,MAAnB;AAAA,OAApB,CAAvB;AACAjB,MAAAA,QAAQ,CAAC;AAAEQ,QAAAA,IAAI,EAAE,qBAAR;AAA+BmE,QAAAA,WAAW,EAAEI;AAA5C,OAAD,CAAR;AACH,KALL;AAMH,GARD;AASH,CAXM","sourcesContent":["import axios from 'axios'\r\n\r\nexport const getAllBonusPointsDiscounts = () => {\r\n\r\n    return (dispatch, getState) => {\r\n        axios.get('http://localhost:8095/api/purchases/bonusPoitsDiscounts/all')\r\n            .then(res => {\r\n                console.log(res.data);\r\n                dispatch({ type: 'GET_ALL_BONUS_POINTS_DISCOUNTS', bonusPointsDiscounts: res.data })\r\n            })\r\n    }\r\n\r\n}\r\n\r\nexport const getUserShoppingCart = (id) => {\r\n\r\n    return (dispatch, getState) => {\r\n        axios.get('http://localhost:8095/api/purchases/shoppingCart/user/' + id)\r\n            .then(res => {\r\n                //nakon sto smo dobili korpu, moramo da ucitamo i rezervacije koje ona ima..\r\n                console.log(res.data)\r\n                dispatch(getCarReservation(res.data.carReservationId));\r\n                dispatch({ type: 'GET_USER_SHOPPING_CART', userShoppingCart: res.data })\r\n            })\r\n    }\r\n\r\n}\r\n\r\nexport const getCarReservation = (id) => {\r\n\r\n    return (dispatch, getState) => {\r\n\r\n        axios.get('http://localhost:8090/api/rentacar/reservation/' + id)\r\n            .then(res => {\r\n                console.log(res.data)\r\n                dispatch({ type: 'GET_CAR_RESERVATION', carReservation: res.data })\r\n            })\r\n    }\r\n\r\n}\r\n\r\nexport const createUserShoppingCart = (userId) => {\r\n\r\n    return (dispatch, getState) => {\r\n        axios.post('http://localhost:8095/api/purchases/shoppingCart/', { id: -1, bonusPoints: 0, userId: userId, carReservationId: null, roomReservationId: null, uslugaReservationId: null, cenovnikReservationId: null, price: 0 })\r\n            .then(res => {\r\n                console.log(res.data)\r\n                dispatch({ type: 'CREATE_USER_SHOPPING_CART', userShoppingCart: res.data })\r\n            })\r\n    }\r\n\r\n}\r\n\r\nexport const addRentACarReservationToShoppingCart = (idKorpe, dateFrom, dateTo, car) => {\r\n\r\n    return (dispatch, getState) => {\r\n        axios.put('http://localhost:8095/api/purchases/shoppingCart/addCarReservation/' + idKorpe, { id: -1, dateFrom: dateFrom, dateTo: dateTo, rating: 0, carRating: 0, reservedCar: { id: car.id, rentPrice: car.rentPrice, carType: { id: car.carType.id, numberOfSeats: '', modelYear: '', model: '', brand: '', carType: '' }, rentService: { id: car.rentService.id, name: '', adress: '', description: '' }, branchOffice: { id: car.branchOffice.id, name: '', adress: '', city: '', rentServiceDTO: { id: car.rentService.id, adress: '', name: '', description: '' } } }, branchOfficeFrom: { id: car.branchOffice.id, name: '', adress: '', city: '', rentServiceDTO: { id: car.rentService.id, adress: '', name: '', description: '' } }, branchOfficeTo: { id: car.branchOffice.id, name: '', adress: '', city: '', rentServiceDTO: { id: car.rentService.id, adress: '', name: '', description: '' } }, service: { id: car.rentService.id, adress: '', name: '', description: '' } })\r\n            .then(res => {\r\n                console.log(res.data)\r\n                dispatch({ type: 'ADD_CAR_RESERVATION_TO_SHOPPING_CART', userShoppingCart: res.data })\r\n            })\r\n    }\r\n}\r\n\r\nexport const removeRentACarReservationFromShoppingCart = (idKorpe) => {\r\n\r\n    return (dispatch, getState) => {\r\n        axios.delete('http://localhost:8095/api/purchases/shoppingCart/deleteCarReservation/' + idKorpe)\r\n            .then(res => {\r\n                console.log(res.data)\r\n                dispatch({ type: 'REMOVE_CAR_RESERVATION_FROM_SHOPPING_CART', userShoppingCart: res.data })\r\n            })\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\nexport const makeReservation = (id) => {\r\n\r\n    return (dispatch, getState) => {\r\n        axios.post('http://localhost:8095/api/purchases/shoppingCart/' + id)\r\n            .then(res => {\r\n                console.log(res.data)\r\n                dispatch({ type: 'MAKE_RESERVATION', finalReservation: res.data })\r\n            })\r\n\r\n    }\r\n\r\n}\r\n\r\nexport const getAllUserReservations = (id) => {\r\n\r\n    return (dispatch, getState) => {\r\n        axios.get('http://localhost:8095/api/purchases/reservation/allByUser/' + id)\r\n            .then(res => {\r\n                console.log(res.data)\r\n                res.data.map(reservation => {\r\n                    return (dispatch(addRentCarReservationToCollection(reservation.carReservationId)));\r\n                })\r\n\r\n                dispatch({ type: 'GET_USER_RESERVATIONS', userReservations: res.data })\r\n            })\r\n\r\n    }\r\n\r\n}\r\n\r\nexport const addRentCarReservationToCollection = (id) => {\r\n\r\n    return (dispatch, getState) => {\r\n        axios.get('http://localhost:8090/api/rentacar/reservation/' + id)\r\n            .then(res => {\r\n                console.log(res.data)\r\n                dispatch({ type: 'GET_USER_RENT_A_CAR_RESERVATIONS', rentCarReservations: res.data })\r\n            })\r\n    }\r\n\r\n}\r\n\r\n\r\nexport const createBonusPointsDiscount = (bonusPointsDiscount) => {\r\n\r\n    return (dispatch, getState) => {\r\n\r\n        axios.post('http://localhost:8095/api/purchases/bonusPoitsDiscounts/', { id: bonusPointsDiscount.id, points: bonusPointsDiscount.points, discount: bonusPointsDiscount.discount })\r\n            .then(res => {\r\n                console.log(res);\r\n                dispatch({ type: 'CREATE_BONUS_POINTS_DISCOUNT', bonusPointsDiscount: res.data });\r\n            })\r\n    }\r\n}\r\n\r\n\r\nexport const editBonusPointsDiscount = (id, bonusPointsDiscount) => {\r\n\r\n    return (dispatch, getState) => {\r\n\r\n        axios.put('http://localhost:8095/api/purchases/bonusPoitsDiscounts/' + id, { id: bonusPointsDiscount.id, points: bonusPointsDiscount.points, discount: bonusPointsDiscount.discount })\r\n            .then(res => {\r\n                console.log(res);\r\n                dispatch({ type: 'UPDATE_BONUS_POINTS_DISCOUNT', editedDiscount: res.data });\r\n            })\r\n    }\r\n}\r\n\r\n\r\nexport const deleteBonusPointsDiscount = (id) => {\r\n\r\n    return (dispatch, getState) => {\r\n\r\n        axios.delete('http://localhost:8095/api/purchases/bonusPoitsDiscounts/' + id)\r\n            .then(res => {\r\n                console.log(res);\r\n                dispatch({ type: 'DELETE_BONUS_POINTS_DISCOUNT', deletedDiscount: res.data });\r\n            })\r\n\r\n    }\r\n}\r\n\r\n\r\nexport const rateRentACarService = (date, userId, idService, rating) => {\r\n\r\n    return (dispatch, getState) => {\r\n\r\n        axios.post('http://localhost:8095/api/purchases/rentACarRating/' + date, { id: -1, userId: userId, rentACarId: idService, rating: rating })\r\n            .then(res => {\r\n                console.log(res);\r\n                dispatch({ type: 'RATE_RENT_A_CAR', rating: res.data });\r\n            })\r\n    }\r\n}\r\n\r\n\r\nexport const rateCar = (date, userId, idCar, rating) => {\r\n\r\n    return (dispatch, getState) => {\r\n\r\n        axios.post('http://localhost:8095/api/purchases/carRating/' + date, { id: -1, userId: userId, carId: idCar, rating: rating })\r\n            .then(res => {\r\n                console.log(res);\r\n                dispatch({ type: 'RATE_CAR', rating: res.data });\r\n            })\r\n    }\r\n}\r\n\r\n\r\n\r\nexport const getAllRentACarRatings = (userId) => {\r\n\r\n    return (dispatch, getState) => {\r\n\r\n        axios.get('http://localhost:8095/api/purchases/rentACarRating/all')\r\n            .then(res => {\r\n                const userRatings = res.data.filter(item => item.userId == userId)\r\n                dispatch({ type: 'GET_ALL_RENT_A_CAR_RATINGS', userRatings: userRatings });\r\n            })\r\n    }\r\n}\r\n\r\n\r\nexport const getAllCarRatings = (userId) => {\r\n\r\n    return (dispatch, getState) => {\r\n\r\n        axios.get('http://localhost:8095/api/purchases/carRating/all')\r\n            .then(res => {\r\n                console.log(res);\r\n                const userCarRatings = res.data.filter(item => item.userId == userId)\r\n                dispatch({ type: 'GET_ALL_CAR_RATINGS', userRatings: userCarRatings });\r\n            })\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}