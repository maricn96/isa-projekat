{"ast":null,"code":"import axios from 'axios';\nexport var getAllBonusPointsDiscounts = function getAllBonusPointsDiscounts() {\n  return function (dispatch, getState) {\n    axios.get('http://localhost:8095/api/purchases/bonusPoitsDiscounts/all').then(function (res) {\n      console.log(res.data);\n      dispatch({\n        type: 'GET_ALL_BONUS_POINTS_DISCOUNTS',\n        bonusPointsDiscounts: res.data\n      });\n    });\n  };\n};\nexport var getUserShoppingCart = function getUserShoppingCart(id) {\n  return function (dispatch, getState) {\n    axios.get('http://localhost:8095/api/purchases/shoppingCart/user/' + id).then(function (res) {\n      //nakon sto smo dobili korpu, moramo da ucitamo i rezervacije koje ona ima..\n      console.log(res.data);\n      dispatch(getCarReservation(res.data.carReservationId));\n      dispatch({\n        type: 'GET_USER_SHOPPING_CART',\n        userShoppingCart: res.data\n      });\n    });\n  };\n};\nexport var getCarReservation = function getCarReservation(id) {\n  return function (dispatch, getState) {\n    axios.get('http://localhost:8090/api/rentacar/reservation/' + id).then(function (res) {\n      console.log(res.data);\n      dispatch({\n        type: 'GET_CAR_RESERVATION',\n        carReservation: res.data\n      });\n    });\n  };\n};\nexport var makeReservation = function makeReservation(id) {\n  return function (dispatch, getState) {\n    axios.post('http://localhost:8095/api/purchases/shoppingCart/' + id).then(function (res) {\n      console.log(res.data);\n      dispatch({\n        type: 'MAKE_RESERVATION',\n        finalReservation: res.data\n      });\n    });\n  };\n};\nexport var getAllUserReservations = function getAllUserReservations(id) {\n  return function (dispatch, getState) {\n    axios.get('http://localhost:8095/api/purchases/reservation/allByUser/' + id).then(function (res) {\n      console.log(res.data);\n      res.data.map(function (reservation) {\n        return dispatch(addRentCarReservationToCollection(reservation.carReservationId));\n      });\n      dispatch({\n        type: 'GET_USER_RESERVATIONS',\n        userReservations: res.data\n      });\n    });\n  };\n};\nexport var addRentCarReservationToCollection = function addRentCarReservationToCollection(id) {\n  return function (dispatch, getState) {\n    axios.get('http://localhost:8090/api/rentacar/reservation/' + id).then(function (res) {\n      console.log(res.data);\n      dispatch({\n        type: 'GET_USER_RENT_A_CAR_RESERVATIONS',\n        rentCarReservations: res.data\n      });\n    });\n  };\n};\nexport var createBonusPointsDiscount = function createBonusPointsDiscount(bonusPointsDiscount) {\n  return function (dispatch, getState) {\n    axios.post('http://localhost:8090/api/rentacar/carType/', {\n      id: bonusPointsDiscount.id,\n      points: bonusPointsDiscount.points,\n      discount: bonusPointsDiscount.discount\n    }).then(function (res) {\n      console.log(res);\n      dispatch({\n        type: 'CREATE_CAR_TYPE',\n        createdCarType: res.data\n      });\n    });\n  };\n};\nexport var editCarType = function editCarType(id, carType) {\n  return function (dispatch, getState) {\n    axios.put('http://localhost:8090/api/rentacar/carType/' + id, {\n      id: carType.id,\n      numberOfSeats: carType.numberOfSeats,\n      modelYear: carType.modelYear,\n      model: carType.model,\n      brand: carType.brand,\n      carType: carType.carType\n    }).then(function (res) {\n      console.log(res);\n      dispatch({\n        type: 'EDIT_CAR_TYPE',\n        editedCarType: res.data\n      });\n    });\n  };\n};\nexport var deleteCarType = function deleteCarType(id) {\n  return function (dispatch, getState) {\n    axios.delete('http://localhost:8090/api/rentacar/carType/' + id).then(function (res) {\n      console.log(res);\n      dispatch({\n        type: 'DELETE_CAR_TYPE',\n        deletedCarType: res.data\n      });\n    });\n  };\n};","map":{"version":3,"sources":["C:\\Users\\Admin\\Desktop\\7.SEMESTAR\\ISA\\projekat\\ISA-project\\ISA-project\\isa-front\\src\\store\\actions\\PurchasesActions.js"],"names":["axios","getAllBonusPointsDiscounts","dispatch","getState","get","then","res","console","log","data","type","bonusPointsDiscounts","getUserShoppingCart","id","getCarReservation","carReservationId","userShoppingCart","carReservation","makeReservation","post","finalReservation","getAllUserReservations","map","reservation","addRentCarReservationToCollection","userReservations","rentCarReservations","createBonusPointsDiscount","bonusPointsDiscount","points","discount","createdCarType","editCarType","carType","put","numberOfSeats","modelYear","model","brand","editedCarType","deleteCarType","delete","deletedCarType"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\n\r\nexport const getAllBonusPointsDiscounts = () => {\r\n\r\n    return (dispatch, getState) => {\r\n        axios.get('http://localhost:8095/api/purchases/bonusPoitsDiscounts/all')\r\n            .then(res => {\r\n                console.log(res.data);\r\n                dispatch({ type: 'GET_ALL_BONUS_POINTS_DISCOUNTS', bonusPointsDiscounts: res.data })\r\n            })\r\n    }\r\n\r\n}\r\n\r\nexport const getUserShoppingCart = (id) => {\r\n\r\n    return (dispatch, getState) => {\r\n        axios.get('http://localhost:8095/api/purchases/shoppingCart/user/' + id)\r\n            .then(res => {\r\n                //nakon sto smo dobili korpu, moramo da ucitamo i rezervacije koje ona ima..\r\n                console.log(res.data)\r\n                dispatch(getCarReservation(res.data.carReservationId));\r\n                dispatch({ type: 'GET_USER_SHOPPING_CART', userShoppingCart: res.data })\r\n            })\r\n    }\r\n\r\n}\r\n\r\nexport const getCarReservation = (id) => {\r\n\r\n    return (dispatch, getState) => {\r\n\r\n        axios.get('http://localhost:8090/api/rentacar/reservation/' + id)\r\n            .then(res => {\r\n                console.log(res.data)\r\n                dispatch({ type: 'GET_CAR_RESERVATION', carReservation: res.data })\r\n            })\r\n    }\r\n\r\n}\r\n\r\nexport const makeReservation = (id) => {\r\n\r\n    return (dispatch, getState) => {\r\n        axios.post('http://localhost:8095/api/purchases/shoppingCart/' + id)\r\n            .then(res => {\r\n                console.log(res.data)\r\n                dispatch({ type: 'MAKE_RESERVATION', finalReservation: res.data })\r\n            })\r\n\r\n    }\r\n\r\n}\r\n\r\nexport const getAllUserReservations = (id) => {\r\n\r\n    return (dispatch, getState) => {\r\n        axios.get('http://localhost:8095/api/purchases/reservation/allByUser/' + id)\r\n            .then(res => {\r\n                console.log(res.data)\r\n                res.data.map(reservation => {\r\n                    return (dispatch(addRentCarReservationToCollection(reservation.carReservationId)));\r\n                })\r\n\r\n                dispatch({ type: 'GET_USER_RESERVATIONS', userReservations: res.data })\r\n            })\r\n\r\n    }\r\n\r\n}\r\n\r\nexport const addRentCarReservationToCollection = (id) => {\r\n\r\n    return (dispatch, getState) => {\r\n        axios.get('http://localhost:8090/api/rentacar/reservation/' + id)\r\n            .then(res => {\r\n                console.log(res.data)\r\n                dispatch({ type: 'GET_USER_RENT_A_CAR_RESERVATIONS', rentCarReservations: res.data })\r\n            })\r\n    }\r\n\r\n}\r\n\r\n\r\nexport const createBonusPointsDiscount = (bonusPointsDiscount) => {\r\n\r\n    return (dispatch, getState) => {\r\n\r\n        axios.post('http://localhost:8090/api/rentacar/carType/', { id: bonusPointsDiscount.id, points: bonusPointsDiscount.points, discount: bonusPointsDiscount.discount })\r\n            .then(res => {\r\n                console.log(res);\r\n                dispatch({ type: 'CREATE_CAR_TYPE', createdCarType: res.data });\r\n            })\r\n    }\r\n}\r\n\r\n\r\nexport const editCarType = (id, carType) => {\r\n\r\n    return (dispatch, getState) => {\r\n\r\n        axios.put('http://localhost:8090/api/rentacar/carType/' + id, { id: carType.id, numberOfSeats: carType.numberOfSeats, modelYear: carType.modelYear, model: carType.model, brand: carType.brand, carType: carType.carType })\r\n            .then(res => {\r\n                console.log(res);\r\n                dispatch({ type: 'EDIT_CAR_TYPE', editedCarType: res.data });\r\n            })\r\n    }\r\n}\r\n\r\n\r\nexport const deleteCarType = (id) => {\r\n\r\n    return (dispatch, getState) => {\r\n\r\n        axios.delete('http://localhost:8090/api/rentacar/carType/' + id)\r\n            .then(res => {\r\n                console.log(res);\r\n                dispatch({ type: 'DELETE_CAR_TYPE', deletedCarType: res.data });\r\n            })\r\n\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}