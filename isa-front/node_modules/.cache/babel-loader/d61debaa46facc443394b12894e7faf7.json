{"ast":null,"code":"import _classCallCheck from \"C:\\\\Dev\\\\ejbrealobre\\\\ISA-project\\\\isa-front\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Dev\\\\ejbrealobre\\\\ISA-project\\\\isa-front\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Dev\\\\ejbrealobre\\\\ISA-project\\\\isa-front\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Dev\\\\ejbrealobre\\\\ISA-project\\\\isa-front\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Dev\\\\ejbrealobre\\\\ISA-project\\\\isa-front\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Dev\\\\ejbrealobre\\\\ISA-project\\\\isa-front\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Dev\\\\ejbrealobre\\\\ISA-project\\\\isa-front\\\\src\\\\components\\\\dashboard\\\\LetoviPretraga.js\";\nimport React, { Component } from 'react';\nimport UserLoggedTabs from '../layout/tabs/UserLoggedTabs';\nimport { BrowserRouter, Route } from \"react-router-dom\";\nimport ReactDOM from 'react-dom';\nimport axios from 'axios';\nimport { NavLink } from 'react-router-dom';\nimport LetoviIzlistavanje from './LetoviIzlistavanje';\n\nvar LetoviPretraga =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(LetoviPretraga, _Component);\n\n  function LetoviPretraga(props) {\n    var _this;\n\n    _classCallCheck(this, LetoviPretraga);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(LetoviPretraga).call(this, props));\n    _this.state = {\n      destinations: [],\n      flights: [],\n      ///////\n      mestoPolaska: 'novi sad',\n      mestoDolaska: 'novi sad',\n      flightsByDest: [],\n      ///////\n      polazak: '',\n      dolazak: '',\n      datumPoletanja: '',\n      vremePoletanja: '',\n      datumSletanja: '',\n      vremeSletanja: '',\n      flightsByTime: [],\n      ///////\n      tipLeta: '',\n      flightsByType: [],\n      ///////\n      isClicked: 'false'\n    };\n    _this.changeMestoPolaska = _this.changeMestoPolaska.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.changeMestoDolaska = _this.changeMestoDolaska.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.changeDatumPoletanja = _this.changeDatumPoletanja.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.changeDatumSletanja = _this.changeDatumSletanja.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.changeTipLeta = _this.changeTipLeta.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSearchButton = _this.handleSearchButton.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(LetoviPretraga, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      axios('http://localhost:8091/api/aviocompany/destination/all').then(function (res) {\n        _this2.setState({\n          destinations: res.data\n        });\n      });\n      axios('http://localhost:8091/api/aviocompany/flight/all').then(function (res) {\n        _this2.setState({\n          flights: res.data\n        });\n      });\n    }\n  }, {\n    key: \"changeMestoPolaska\",\n    value: function changeMestoPolaska(e) {\n      this.setState({\n        mestoPolaska: e.target.value\n      });\n      console.log(e.target.value);\n    }\n  }, {\n    key: \"changeMestoDolaska\",\n    value: function changeMestoDolaska(e) {\n      this.setState({\n        mestoDolaska: e.target.value\n      });\n      console.log(e.target.value);\n    }\n  }, {\n    key: \"changeDatumPoletanja\",\n    value: function changeDatumPoletanja(e) {\n      var datee = e.target.value;\n      var res = datee.split(\"-\");\n\n      if (res[0] > 1948 && res[0] < 2100) {\n        this.state.datumPoletanja = e.target.value;\n      } else {\n        this.state.vremePoletanja = e.target.value;\n      }\n\n      this.setState({\n        polazak: this.state.datumPoletanja + 'T' + this.state.vremePoletanja + ':00'\n      });\n      console.log(this.state.polazak);\n    }\n  }, {\n    key: \"changeDatumSletanja\",\n    value: function changeDatumSletanja(e) {\n      var dateee = e.target.value;\n      var ress = dateee.split(\"-\");\n\n      if (ress[0] > 1948 && ress[0] < 2100) {\n        this.state.datumSletanja = e.target.value;\n      } else {\n        this.state.vremeSletanja = e.target.value;\n      }\n\n      this.setState({\n        dolazak: this.state.datumSletanja + 'T' + this.state.vremeSletanja + ':00'\n      });\n      console.log(this.state.dolazak);\n    }\n  }, {\n    key: \"changeTipLeta\",\n    value: function changeTipLeta(e) {\n      this.setState({\n        tipLeta: e.target.value\n      });\n      console.log(e.target.value);\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(e) {\n      var _this3 = this;\n\n      e.preventDefault();\n      axios.get('http://localhost:8091/api/aviocompany/flight/getbydest/' + this.state.mestoPolaska + '/' + this.state.mestoDolaska).then(function (res) {\n        console.log(res.data);\n\n        _this3.setState({\n          flightsByDest: res.data\n        });\n      });\n      axios.get('http://localhost:8091/api/aviocompany/flight/getbytime/' + this.state.polazak + '/' + this.state.dolazak).then(function (res) {\n        console.log(res.data);\n\n        _this3.setState({\n          flightsByTime: res.data\n        });\n      });\n      axios.get('http://localhost:8091/api/aviocompany/flight/getbytype/' + this.state.tipLeta).then(function (res) {\n        console.log(res.data);\n\n        _this3.setState({\n          flightsByType: res.data\n        });\n      });\n    }\n  }, {\n    key: \"handleSearchButton\",\n    value: function handleSearchButton(e) {\n      this.setState(function (prevState) {\n        if (isClicked == 'true') {}\n\n        return {\n          isClicked: !prevState.isClicked\n        };\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, React.createElement(UserLoggedTabs, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        onClick: this.handleSearchButton,\n        className: \"btn blue center lighten-1 z-depth-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, \"Pretraga\"), React.createElement(\"div\", {\n        className: \"container\",\n        hidden: \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        className: \"white\",\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"red-text lighten-1 center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, \"Pretraga letova\"), React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"takeoffdest\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, \"Mesto polaska\"), React.createElement(\"div\", {\n        className: \"input-field\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, React.createElement(\"select\", {\n        id: \"takeoffdest\",\n        className: \"browser-default\",\n        name: \"destinationTakeOff\",\n        onChange: this.changeMestoPolaska,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, this.state.destinations.map(function (dest) {\n        return React.createElement(\"option\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 204\n          },\n          __self: this\n        }, dest.name);\n      }))), React.createElement(\"label\", {\n        htmlFor: \"landingdest\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, \"Mesto dolaska\"), React.createElement(\"div\", {\n        className: \"input-field\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, React.createElement(\"select\", {\n        id: \"landingdest\",\n        className: \"browser-default\",\n        name: \"destinationLanding\",\n        onChange: this.changeMestoDolaska,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, this.state.destinations.map(function (dest) {\n        return React.createElement(\"option\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 212\n          },\n          __self: this\n        }, dest.name);\n      }))), React.createElement(\"label\", {\n        htmlFor: \"takeoff\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, \"Datum i vreme poletanja\"), React.createElement(\"div\", {\n        className: \"input-field\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"date\",\n        className: \"datepicker\",\n        id: \"takeoff\",\n        onChange: this.changeDatumPoletanja,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"time\",\n        className: \"timepicker\",\n        id: \"takeofftime\",\n        onChange: this.changeDatumPoletanja,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      })), React.createElement(\"label\", {\n        htmlFor: \"landing\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, \"Datum i vreme sletanja\"), React.createElement(\"div\", {\n        className: \"input-field\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"date\",\n        className: \"datepicker\",\n        id: \"landing\",\n        onChange: this.changeDatumSletanja,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"time\",\n        className: \"timepicker\",\n        id: \"landingtime\",\n        onChange: this.changeDatumSletanja,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      })), React.createElement(\"label\", {\n        htmlFor: \"fltype\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }, \"Tip leta\"), React.createElement(\"div\", {\n        className: \"input-field\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }, React.createElement(\"select\", {\n        id: \"fltype\",\n        className: \"browser-default\",\n        name: \"travelType\",\n        onChange: this.changeTipLeta,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }, this.state.flights.map(function (flight) {\n        return React.createElement(\"option\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 230\n          },\n          __self: this\n        }, flight.travelType);\n      }))), React.createElement(\"div\", {\n        className: \"input-field\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"Pretrazi\",\n        className: \"btn blue lighten-1 z-depth-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }))))), React.createElement(LetoviIzlistavanje, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return LetoviPretraga;\n}(Component);\n\n;\nexport default LetoviPretraga;","map":{"version":3,"sources":["C:\\Dev\\ejbrealobre\\ISA-project\\isa-front\\src\\components\\dashboard\\LetoviPretraga.js"],"names":["React","Component","UserLoggedTabs","BrowserRouter","Route","ReactDOM","axios","NavLink","LetoviIzlistavanje","LetoviPretraga","props","state","destinations","flights","mestoPolaska","mestoDolaska","flightsByDest","polazak","dolazak","datumPoletanja","vremePoletanja","datumSletanja","vremeSletanja","flightsByTime","tipLeta","flightsByType","isClicked","changeMestoPolaska","bind","changeMestoDolaska","changeDatumPoletanja","changeDatumSletanja","changeTipLeta","handleSubmit","handleSearchButton","then","res","setState","data","e","target","value","console","log","datee","split","dateee","ress","preventDefault","get","prevState","map","dest","name","flight","travelType"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,cAAP,MAA2B,+BAA3B;AACA,SAASC,aAAT,EAAwBC,KAAxB,QAAqC,kBAArC;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,OAAR,QAAsB,kBAAtB;AACA,OAAOC,kBAAP,MAA+B,sBAA/B;;IAIMC,c;;;;;AAEF,0BAAYC,KAAZ,EACA;AAAA;;AAAA;;AACI,wFAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AAETC,MAAAA,YAAY,EAAE,EAFL;AAGTC,MAAAA,OAAO,EAAE,EAHA;AAKT;AAEAC,MAAAA,YAAY,EAAE,UAPL;AAQTC,MAAAA,YAAY,EAAE,UARL;AASTC,MAAAA,aAAa,EAAE,EATN;AAWT;AAEAC,MAAAA,OAAO,EAAE,EAbA;AAcTC,MAAAA,OAAO,EAAE,EAdA;AAgBTC,MAAAA,cAAc,EAAE,EAhBP;AAiBTC,MAAAA,cAAc,EAAE,EAjBP;AAkBTC,MAAAA,aAAa,EAAE,EAlBN;AAmBTC,MAAAA,aAAa,EAAE,EAnBN;AAqBTC,MAAAA,aAAa,EAAE,EArBN;AAuBT;AAEAC,MAAAA,OAAO,EAAE,EAzBA;AA2BTC,MAAAA,aAAa,EAAE,EA3BN;AA6BT;AAEAC,MAAAA,SAAS,EAAE;AA/BF,KAAb;AAoCA,UAAKC,kBAAL,GAA0B,MAAKA,kBAAL,CAAwBC,IAAxB,uDAA1B;AACA,UAAKC,kBAAL,GAA0B,MAAKA,kBAAL,CAAwBD,IAAxB,uDAA1B;AAEA,UAAKE,oBAAL,GAA4B,MAAKA,oBAAL,CAA0BF,IAA1B,uDAA5B;AACA,UAAKG,mBAAL,GAA2B,MAAKA,mBAAL,CAAyBH,IAAzB,uDAA3B;AAEA,UAAKI,aAAL,GAAqB,MAAKA,aAAL,CAAmBJ,IAAnB,uDAArB;AAEA,UAAKK,YAAL,GAAoB,MAAKA,YAAL,CAAkBL,IAAlB,uDAApB;AAEA,UAAKM,kBAAL,GAA0B,MAAKA,kBAAL,CAAwBN,IAAxB,uDAA1B;AAhDJ;AAiDC;;;;wCAEmB;AAAA;;AAChBtB,MAAAA,KAAK,CAAC,uDAAD,CAAL,CAA+D6B,IAA/D,CACI,UAAAC,GAAG,EAAI;AACH,QAAA,MAAI,CAACC,QAAL,CAAc;AACVzB,UAAAA,YAAY,EAAEwB,GAAG,CAACE;AADR,SAAd;AAGH,OALL;AAQAhC,MAAAA,KAAK,CAAC,kDAAD,CAAL,CAA0D6B,IAA1D,CACI,UAAAC,GAAG,EAAI;AACH,QAAA,MAAI,CAACC,QAAL,CAAc;AACVxB,UAAAA,OAAO,EAAEuB,GAAG,CAACE;AADH,SAAd;AAGH,OALL;AAQH;;;uCAEkBC,C,EACnB;AACI,WAAKF,QAAL,CAAc;AAACvB,QAAAA,YAAY,EAAEyB,CAAC,CAACC,MAAF,CAASC;AAAxB,OAAd;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,CAAC,CAACC,MAAF,CAASC,KAArB;AACH;;;uCAEkBF,C,EACnB;AACI,WAAKF,QAAL,CAAc;AAACtB,QAAAA,YAAY,EAAEwB,CAAC,CAACC,MAAF,CAASC;AAAxB,OAAd;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,CAAC,CAACC,MAAF,CAASC,KAArB;AACH;;;yCAEoBF,C,EACrB;AACI,UAAIK,KAAK,GAAGL,CAAC,CAACC,MAAF,CAASC,KAArB;AACA,UAAIL,GAAG,GAAGQ,KAAK,CAACC,KAAN,CAAY,GAAZ,CAAV;;AAEA,UAAGT,GAAG,CAAC,CAAD,CAAH,GAAS,IAAT,IAAiBA,GAAG,CAAC,CAAD,CAAH,GAAS,IAA7B,EACA;AACI,aAAKzB,KAAL,CAAWQ,cAAX,GAA4BoB,CAAC,CAACC,MAAF,CAASC,KAArC;AACH,OAHD,MAKA;AACI,aAAK9B,KAAL,CAAWS,cAAX,GAA4BmB,CAAC,CAACC,MAAF,CAASC,KAArC;AACH;;AAED,WAAKJ,QAAL,CAAc;AACVpB,QAAAA,OAAO,EAAE,KAAKN,KAAL,CAAWQ,cAAX,GAA4B,GAA5B,GAAkC,KAAKR,KAAL,CAAWS,cAA7C,GAA8D;AAD7D,OAAd;AAIAsB,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKhC,KAAL,CAAWM,OAAvB;AACH;;;wCAGmBsB,C,EACpB;AACI,UAAIO,MAAM,GAAGP,CAAC,CAACC,MAAF,CAASC,KAAtB;AACA,UAAIM,IAAI,GAAGD,MAAM,CAACD,KAAP,CAAa,GAAb,CAAX;;AAEA,UAAGE,IAAI,CAAC,CAAD,CAAJ,GAAU,IAAV,IAAkBA,IAAI,CAAC,CAAD,CAAJ,GAAU,IAA/B,EACA;AACI,aAAKpC,KAAL,CAAWU,aAAX,GAA2BkB,CAAC,CAACC,MAAF,CAASC,KAApC;AACH,OAHD,MAKA;AACI,aAAK9B,KAAL,CAAWW,aAAX,GAA2BiB,CAAC,CAACC,MAAF,CAASC,KAApC;AACH;;AAED,WAAKJ,QAAL,CAAc;AACVnB,QAAAA,OAAO,EAAE,KAAKP,KAAL,CAAWU,aAAX,GAA2B,GAA3B,GAAiC,KAAKV,KAAL,CAAWW,aAA5C,GAA4D;AAD3D,OAAd;AAIAoB,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKhC,KAAL,CAAWO,OAAvB;AACH;;;kCAEaqB,C,EACd;AACI,WAAKF,QAAL,CAAc;AACVb,QAAAA,OAAO,EAAEe,CAAC,CAACC,MAAF,CAASC;AADR,OAAd;AAGAC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,CAAC,CAACC,MAAF,CAASC,KAArB;AACH;;;iCAEYF,C,EACb;AAAA;;AACIA,MAAAA,CAAC,CAACS,cAAF;AACA1C,MAAAA,KAAK,CAAC2C,GAAN,CAAU,4DAA4D,KAAKtC,KAAL,CAAWG,YAAvE,GAAsF,GAAtF,GAA4F,KAAKH,KAAL,CAAWI,YAAjH,EAA+HoB,IAA/H,CACI,UAAAC,GAAG,EAAG;AACFM,QAAAA,OAAO,CAACC,GAAR,CAAYP,GAAG,CAACE,IAAhB;;AACA,QAAA,MAAI,CAACD,QAAL,CAAc;AACVrB,UAAAA,aAAa,EAAEoB,GAAG,CAACE;AADT,SAAd;AAGH,OANL;AASAhC,MAAAA,KAAK,CAAC2C,GAAN,CAAU,4DAA4D,KAAKtC,KAAL,CAAWM,OAAvE,GAAiF,GAAjF,GAAuF,KAAKN,KAAL,CAAWO,OAA5G,EAAqHiB,IAArH,CACI,UAAAC,GAAG,EAAG;AACFM,QAAAA,OAAO,CAACC,GAAR,CAAYP,GAAG,CAACE,IAAhB;;AACA,QAAA,MAAI,CAACD,QAAL,CAAc;AACVd,UAAAA,aAAa,EAAEa,GAAG,CAACE;AADT,SAAd;AAGH,OANL;AASAhC,MAAAA,KAAK,CAAC2C,GAAN,CAAU,4DAA4D,KAAKtC,KAAL,CAAWa,OAAjF,EAA0FW,IAA1F,CACI,UAAAC,GAAG,EAAG;AACFM,QAAAA,OAAO,CAACC,GAAR,CAAYP,GAAG,CAACE,IAAhB;;AACA,QAAA,MAAI,CAACD,QAAL,CAAc;AACVZ,UAAAA,aAAa,EAAEW,GAAG,CAACE;AADT,SAAd;AAGH,OANL;AASH;;;uCAEkBC,C,EACnB;AACI,WAAKF,QAAL,CAAc,UAASa,SAAT,EACd;AACI,YAAGxB,SAAS,IAAI,MAAhB,EACA,CAEC;;AACD,eAAO;AAACA,UAAAA,SAAS,EAAE,CAACwB,SAAS,CAACxB;AAAvB,SAAP;AACH,OAPD;AAQH;;;6BAEQ;AACL,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI;AAAQ,QAAA,OAAO,EAAE,KAAKQ,kBAAtB;AAA0C,QAAA,SAAS,EAAC,qCAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ,EAGI;AAAK,QAAA,SAAS,EAAC,WAAf;AAA2B,QAAA,MAAM,EAAC,MAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAM,QAAA,SAAS,EAAC,OAAhB;AAAwB,QAAA,QAAQ,EAAE,KAAKD,YAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAI,QAAA,SAAS,EAAC,2BAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADJ,EAEI;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAO,QAAA,OAAO,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADA,EAEI;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAQ,QAAA,EAAE,EAAC,aAAX;AAAyB,QAAA,SAAS,EAAC,iBAAnC;AAAqD,QAAA,IAAI,EAAC,oBAA1D;AAA+E,QAAA,QAAQ,EAAE,KAAKN,kBAA9F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAKhB,KAAL,CAAWC,YAAX,CAAwBuC,GAAxB,CAA4B,UAAAC,IAAI;AAAA,eAC7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAASA,IAAI,CAACC,IAAd,CAD6B;AAAA,OAAhC,CADL,CADJ,CAFJ,EASI;AAAO,QAAA,OAAO,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBATJ,EAUI;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAQ,QAAA,EAAE,EAAC,aAAX;AAAyB,QAAA,SAAS,EAAC,iBAAnC;AAAqD,QAAA,IAAI,EAAC,oBAA1D;AAA+E,QAAA,QAAQ,EAAE,KAAKxB,kBAA9F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAKlB,KAAL,CAAWC,YAAX,CAAwBuC,GAAxB,CAA4B,UAAAC,IAAI;AAAA,eAC7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAASA,IAAI,CAACC,IAAd,CAD6B;AAAA,OAAhC,CADL,CADJ,CAVJ,EAiBI;AAAO,QAAA,OAAO,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAjBJ,EAkBI;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,SAAS,EAAC,YAA7B;AAA0C,QAAA,EAAE,EAAC,SAA7C;AAAuD,QAAA,QAAQ,EAAE,KAAKvB,oBAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,SAAS,EAAC,YAA7B;AAA0C,QAAA,EAAE,EAAC,aAA7C;AAA2D,QAAA,QAAQ,EAAE,KAAKA,oBAA1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CAlBJ,EAsBI;AAAO,QAAA,OAAO,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAtBJ,EAuBI;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,SAAS,EAAC,YAA7B;AAA0C,QAAA,EAAE,EAAC,SAA7C;AAAuD,QAAA,QAAQ,EAAE,KAAKC,mBAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,SAAS,EAAC,YAA7B;AAA0C,QAAA,EAAE,EAAC,aAA7C;AAA2D,QAAA,QAAQ,EAAE,KAAKA,mBAA1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CAvBJ,EA2BI;AAAO,QAAA,OAAO,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBA3BJ,EA4BI;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAQ,QAAA,EAAE,EAAC,QAAX;AAAoB,QAAA,SAAS,EAAC,iBAA9B;AAAgD,QAAA,IAAI,EAAC,YAArD;AAAkE,QAAA,QAAQ,EAAE,KAAKC,aAAjF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAKrB,KAAL,CAAWE,OAAX,CAAmBsC,GAAnB,CAAuB,UAAAG,MAAM;AAAA,eAC1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAASA,MAAM,CAACC,UAAhB,CAD0B;AAAA,OAA7B,CADL,CADJ,CA5BJ,EAoCI;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAO,QAAA,IAAI,EAAC,QAAZ;AAAqB,QAAA,KAAK,EAAC,UAA3B;AAAsC,QAAA,SAAS,EAAC,8BAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CApCJ,CAFJ,CADJ,CAHJ,EAgDI,oBAAC,kBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAhDJ,CADJ;AAoDH;;;;EAzOwBtD,S;;AA0O5B;AAED,eAAeQ,cAAf","sourcesContent":["import React, { Component } from 'react'\r\nimport UserLoggedTabs from '../layout/tabs/UserLoggedTabs';\r\nimport { BrowserRouter, Route } from \"react-router-dom\"\r\nimport ReactDOM from 'react-dom';\r\nimport axios from 'axios';\r\nimport {NavLink} from 'react-router-dom'\r\nimport LetoviIzlistavanje from './LetoviIzlistavanje'\r\n\r\n\r\n\r\nclass LetoviPretraga extends Component \r\n{\r\n    constructor(props)\r\n    {\r\n        super(props);\r\n        this.state = {\r\n\r\n            destinations: [],\r\n            flights: [],\r\n\r\n            ///////\r\n\r\n            mestoPolaska: 'novi sad',\r\n            mestoDolaska: 'novi sad',\r\n            flightsByDest: [],\r\n\r\n            ///////\r\n\r\n            polazak: '',\r\n            dolazak: '',\r\n\r\n            datumPoletanja: '',\r\n            vremePoletanja: '',\r\n            datumSletanja: '',\r\n            vremeSletanja: '',\r\n\r\n            flightsByTime: [],\r\n\r\n            ///////\r\n\r\n            tipLeta: '',\r\n\r\n            flightsByType: [],\r\n            \r\n            ///////\r\n\r\n            isClicked: 'false'\r\n            \r\n            \r\n        };\r\n\r\n        this.changeMestoPolaska = this.changeMestoPolaska.bind(this);\r\n        this.changeMestoDolaska = this.changeMestoDolaska.bind(this);\r\n\r\n        this.changeDatumPoletanja = this.changeDatumPoletanja.bind(this);\r\n        this.changeDatumSletanja = this.changeDatumSletanja.bind(this);\r\n\r\n        this.changeTipLeta = this.changeTipLeta.bind(this);\r\n        \r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n\r\n        this.handleSearchButton = this.handleSearchButton.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios('http://localhost:8091/api/aviocompany/destination/all').then(\r\n            res => {\r\n                this.setState({\r\n                    destinations: res.data\r\n                })\r\n            }\r\n        )\r\n\r\n        axios('http://localhost:8091/api/aviocompany/flight/all').then(\r\n            res => {\r\n                this.setState({\r\n                    flights: res.data\r\n                })\r\n            }\r\n        )\r\n\r\n    }\r\n\r\n    changeMestoPolaska(e)\r\n    {\r\n        this.setState({mestoPolaska: e.target.value})\r\n        console.log(e.target.value);\r\n    }\r\n\r\n    changeMestoDolaska(e)\r\n    {\r\n        this.setState({mestoDolaska: e.target.value})\r\n        console.log(e.target.value);\r\n    }\r\n\r\n    changeDatumPoletanja(e)\r\n    {\r\n        var datee = e.target.value;\r\n        var res = datee.split(\"-\");\r\n\r\n        if(res[0] > 1948 && res[0] < 2100)\r\n        {\r\n            this.state.datumPoletanja = e.target.value;\r\n        }\r\n        else\r\n        {\r\n            this.state.vremePoletanja = e.target.value;\r\n        }\r\n\r\n        this.setState({\r\n            polazak: this.state.datumPoletanja + 'T' + this.state.vremePoletanja + ':00'\r\n        })\r\n\r\n        console.log(this.state.polazak);\r\n    }\r\n\r\n\r\n    changeDatumSletanja(e)\r\n    {\r\n        var dateee = e.target.value;\r\n        var ress = dateee.split(\"-\");\r\n\r\n        if(ress[0] > 1948 && ress[0] < 2100)\r\n        {\r\n            this.state.datumSletanja = e.target.value;\r\n        }\r\n        else\r\n        {\r\n            this.state.vremeSletanja = e.target.value;\r\n        }\r\n\r\n        this.setState({\r\n            dolazak: this.state.datumSletanja + 'T' + this.state.vremeSletanja + ':00'\r\n        })\r\n\r\n        console.log(this.state.dolazak);\r\n    }\r\n\r\n    changeTipLeta(e)\r\n    {\r\n        this.setState({\r\n            tipLeta: e.target.value\r\n        })\r\n        console.log(e.target.value);\r\n    }\r\n\r\n    handleSubmit(e)\r\n    {\r\n        e.preventDefault();\r\n        axios.get('http://localhost:8091/api/aviocompany/flight/getbydest/' + this.state.mestoPolaska + '/' + this.state.mestoDolaska).then(\r\n            res =>{\r\n                console.log(res.data);\r\n                this.setState({\r\n                    flightsByDest: res.data\r\n                })\r\n            }\r\n        )\r\n\r\n        axios.get('http://localhost:8091/api/aviocompany/flight/getbytime/' + this.state.polazak + '/' + this.state.dolazak).then(\r\n            res =>{\r\n                console.log(res.data);\r\n                this.setState({\r\n                    flightsByTime: res.data\r\n                })\r\n            }\r\n        )\r\n\r\n        axios.get('http://localhost:8091/api/aviocompany/flight/getbytype/' + this.state.tipLeta).then(\r\n            res =>{\r\n                console.log(res.data);\r\n                this.setState({\r\n                    flightsByType: res.data\r\n                })\r\n            }\r\n        )\r\n\r\n    }\r\n\r\n    handleSearchButton(e)\r\n    {\r\n        this.setState(function(prevState)\r\n        {\r\n            if(isClicked == 'true')\r\n            {\r\n\r\n            }\r\n            return {isClicked: !prevState.isClicked}\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <UserLoggedTabs></UserLoggedTabs>\r\n                <button onClick={this.handleSearchButton} className=\"btn blue center lighten-1 z-depth-0\">Pretraga</button>\r\n                <div className=\"container\" hidden=\"true\">\r\n                    <form className=\"white\" onSubmit={this.handleSubmit}>\r\n                        <h2 className=\"red-text lighten-1 center\">Pretraga letova</h2>\r\n                        <div className=\"container\">\r\n                        <label htmlFor=\"takeoffdest\">Mesto polaska</label>\r\n                            <div className=\"input-field\">\r\n                                <select id=\"takeoffdest\" className=\"browser-default\" name=\"destinationTakeOff\" onChange={this.changeMestoPolaska}>\r\n                                    {this.state.destinations.map(dest =>\r\n                                        <option>{dest.name}</option>\r\n                                    )}\r\n                                </select>\r\n                            </div>\r\n                            <label htmlFor=\"landingdest\">Mesto dolaska</label>\r\n                            <div className=\"input-field\">\r\n                                <select id=\"landingdest\" className=\"browser-default\" name=\"destinationLanding\" onChange={this.changeMestoDolaska}>\r\n                                    {this.state.destinations.map(dest =>\r\n                                        <option>{dest.name}</option>\r\n                                    )}\r\n                                </select>\r\n                            </div>\r\n                            <label htmlFor=\"takeoff\">Datum i vreme poletanja</label>\r\n                            <div className=\"input-field\">\r\n                                <input type=\"date\" className=\"datepicker\" id=\"takeoff\" onChange={this.changeDatumPoletanja}/>\r\n                                <input type=\"time\" className=\"timepicker\" id=\"takeofftime\" onChange={this.changeDatumPoletanja}/>\r\n                            </div>\r\n                            <label htmlFor=\"landing\">Datum i vreme sletanja</label>\r\n                            <div className=\"input-field\">   \r\n                                <input type=\"date\" className=\"datepicker\" id=\"landing\" onChange={this.changeDatumSletanja}/>\r\n                                <input type=\"time\" className=\"timepicker\" id=\"landingtime\" onChange={this.changeDatumSletanja}/>\r\n                            </div>\r\n                            <label htmlFor=\"fltype\">Tip leta</label>\r\n                            <div className=\"input-field\">\r\n                                <select id=\"fltype\" className=\"browser-default\" name=\"travelType\" onChange={this.changeTipLeta}>\r\n                                    {this.state.flights.map(flight =>\r\n                                        <option>{flight.travelType}</option>\r\n                                    )}\r\n                                </select>\r\n                            </div>\r\n\r\n                            <div className=\"input-field\">\r\n                                <input type=\"submit\" value=\"Pretrazi\" className=\"btn blue lighten-1 z-depth-0\"/>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n                <LetoviIzlistavanje></LetoviIzlistavanje>\r\n            </div>\r\n        )\r\n    }\r\n};\r\n\r\nexport default LetoviPretraga;"]},"metadata":{},"sourceType":"module"}